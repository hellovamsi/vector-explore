# Interfaces

This document describes the on-disk artifacts and CLI interfaces.

## Artifacts

The `runs/` directory layout is also used for reuse: completed indexed runs can be discovered and selected by the wizard to jump directly into querying.

### `chunks.jsonl`
One JSON object per chunk:
- `chunk_id`: string (e.g. `fixed_00012`)
- `novel_slug`: `frankenstein|mobydick|pride`
- `method`: `fixed|sentences|semantic`
- `start_char`, `end_char`: ints (best-effort offsets)
- `text`: chunk text (including overlap prefix if applicable)
- `overlap`: `null` or `{ "type": "chars"|"sentences", "size": int }`
- `meta`: method-specific metadata

### `embeddings.jsonl`
One JSON object per embedded chunk:
- `chunk_id`
- `text_sha256`
- `embedding`: `list[float]`
- `dim`: int
- `backend`: `ollama|st|cloud`
- `model`: string
- plus `novel_slug`, `method`, `start_char`, `end_char`, `text`

### `retrieval.jsonl`
One JSON object per retrieved result:
- `rank`: int
- `score`: float (store-dependent)
- `chunk_id`: string
- `stored_vector`: `list[float] | null` (omitted when vectors disabled)
- `text_full`: string

### `vector_to_text.json`
- `blurb`: educational explanation (lossy)
- `keywords`: list[str]
- `neighbors`: list of `{id, score, text}`
- `summary`: optional string

### `answer.md`
The final answer generated by the LLM.

## CLI
Run `vector-explore --help` for full flags.
